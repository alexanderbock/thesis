%% math definitions for the thesis
%%
%% Copyright (c) 2012  Martin Falk <falk@vis.uni-stuttgart.de>
%%                     Visualization Research Center (VISUS),
%%                     University of Stuttgart, Germany
%%
%% http://www.vis.uni-stuttgart.de
%%
%% $Id: thesismathdefs.sty 164 2012-09-25 17:34:56Z falkmn $
%%
%% Last modified:
%%   2012/07/24  v0.1  initial version
%%
%% This file may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either
%% version 1.2 of this license or (at your option) any later
%% version. The latest version of this license is in:
%%
%% http://www.latex-project.org/lppl.txt
%%
%% and version 1.2 or later is part of all distributions of
%% LaTeX version 1999/12/01 or later.
%%
\NeedsTeXFormat{LaTeX2e} 
\ProvidesPackage{thesismathdefs}[2012/07/24 v0.1 Thesis math definitions]

\RequirePackage{amsmath}

%%%%%%%%%%%%%%%%%% math definitions %%%%%%%%%%%%%%%%%%
\providecommand{\newoperator}[3]{%
  \newcommand*{#1}{\mathop{#2}#3}}
\providecommand{\renewoperator}[3]{%
  \renewcommand*{#1}{\mathop{#2}#3}}

%% define mathbb with AMS blackboard font 
%% (needed because MnSymbol is not compatible with amsfonts package)
\DeclareMathAlphabet\mathbb{U}{msb}{m}{n}

%% vectors and tensors according to ISO and IUPAP recommendation
\providecommand*{\mathbold}[1]{missing}
%\renewcommand*{\vec}[1]{\boldsymbol{#1}}
\providecommand*{\tensorsym}[1]{#1}

%% number 'e'
\providecommand*{\eu}{\ensuremath{\mathrm{e}}}
%% imaginary unit
\providecommand*{\iu}{\ensuremath{\mathrm{i}}}

%% Landau symbol (e.g. O(n))
\newoperator{\landau}{%
  \mathcal{O}}{\nolimits}

\providecommand*{\orderof}[1]{\ensuremath{\landau(#1)}}

%% redefine real part of complex number
\renewoperator{\Re}{%
  \mathrm{Re}}{\nolimits}
%% redefine imaginary part of complex number
\renewoperator{\Im}{%
  \mathrm{Im}}{\nolimits}

%% differential operators (TUGboat, Vol 18,1997)
\makeatletter
\providecommand*{\diff}{%
  \@ifnextchar^{\DIfF}{\DIfF^{}}}
\def\DIfF^#1{%
  \mathop{\mathrm{\mathstrut d}}%
  \nolimits^{#1}\gobblespace}
\def\gobblespace{%
  \futurelet\diffarg\opspace}
\def\opspace{%
  \let\DiffSpace\!%
  \ifx\diffarg(%
    \let\DiffSpace\relax
  \else
    \ifx\diffarg[%
      \let\DiffSpace\relax
    \else
      \ifx\diffarg\{%
        \let\DiffSpace\relax
      \fi\fi\fi\DiffSpace}
\makeatother

%% total derivative \deriv[order]{f(x)}{x}
\providecommand*{\deriv}[3][]{%
  \frac{\diff^{#1}#2}{\diff #3^{#1}}}
%% partial derivative \pderiv[order]{f(x)}{x}
\providecommand*{\pderiv}[3][]{%
  \frac{\partial^{#1}#2}{\partial #3^{#1}}}
%% example usage:
% \begin{flalign}
%   a\deriv[2]{y}{x} + b\deriv{y}{x} + c & = f(x) \\
%   \deriv{(\log y)}{x} &= \frac{1}{y} \deriv{y}{x} \\
%   \diff z(x,y) &= \pderiv{z}{x}\diff x + \pderiv{z}{y}\diff y \\
%   \mathcal{L}[f(t)] &= \int_{0-}^{\infty} \eu^{st}f(t)\diff t
% \end{flalign}
%% ------

%% useful definitions
%% dot product
\providecommand*{\dotprod}{\ensuremath{\boldsymbol{\cdot}}}
%% norm (use instead of $\|x\|$)
%%\providecommand*{\norm}[1]{\mathopen\| #1 \mathclose\|}
\providecommand*{\norm}[2][]{\lVert#2\rVert_{#1}}
%% abs (use instead of $\|x\|$)
%%\providecommand*{\abs}[1]{\mathopen| #1 \mathclose|}
\providecommand*{\abs}[1]{\lvert#1\rvert}
%% sign (use instead of $|x|$)
\providecommand*{\sign}{\ensuremath{\operatorname{sign}}}

%% normalize vector, gives v/|v|
\providecommand*{\vecnorm}[1]{\ensuremath{\frac{#1}{\norm{#1}}}}
%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%% SI unit definitions %%%%%%%%%%%%%%%%%%

%% define SI unit shortcuts for KiB, MiB, GiB, and TiB
\DeclareSIUnit[number-unit-product=\;]\kbyte{\kibi\byte}
\DeclareSIUnit[number-unit-product=\;]\mbyte{\mebi\byte}
\DeclareSIUnit[number-unit-product=\;]\gbyte{\gibi\byte}
\DeclareSIUnit[number-unit-product=\;]\tbyte{\tebi\byte}

%% SI unit shortcut for frames per second
\DeclareSIUnit[number-unit-product=\;]\fps{fps}

\DeclareSIUnit[number-unit-product=\;]\flops{flops}

\DeclareSIUnit\Mole{\mole\per\liter}
\DeclareSIUnit\MoleInv{\liter\per\mole}

\newcommand{\sisym}[2][]{\si[per-mode=symbol,#1]{#2}}
\newcommand{\SIsym}[3][]{\SI[per-mode=symbol,#1]{#2}{#3}}
%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%% various variable definitions %%%%%%%%%%%%%%%%%%

%% MAPK phosphorylation 
\providecommand*{\phosphorylate}[2][p]{#2{\smaller #1}}
%% concentration with upright index
\providecommand*{\conc}[2][c]{\ensuremath{#1_{\text{#2}}}}

%% Avogadro's constant
\providecommand*{\Na}{\ensuremath{\mathrm{N}_{\text{A}}}}
%% Michaelis constant (enzyme kinetics)
\providecommand*{\Km}{\ensuremath{\mathrm{K}_{\text{m}}}}
%% unimolecular rate constant (Michaelis Menten)
\providecommand*{\kcat}{\ensuremath{k_{\text{cat}}}}

%% diffusion limit
\providecommand*{\diffLimit}{\ensuremath{\gamma_{ij}}}

%% random vector with uniform distribution
\providecommand*{\randUniform}{\ensuremath{\vec{\xi}_{\mathcal{U}}}}
%% random vector with normal distribution
\providecommand*{\randNormal}{\ensuremath{\vec{\xi}_{\mathcal{N}}}}

%% reaction rate: monomolecular
\providecommand*{\rateMono}{\ensuremath{k_{i}}}
%% reaction rate: bimolecular (macroscopic)
\providecommand*{\rateBimo}{\ensuremath{k_{ij}}}
%% reaction rate: bimolecular (microscopic)
\providecommand*{\rateMicro}{\ensuremath{\kappa_{ij}}}

%% radii
\providecommand*{\Rmembrane}{\ensuremath{r_{\text{mem}}}}
\providecommand*{\Rnucleus}{\ensuremath{r_{\text{nucl}}}}
%% distances
\providecommand*{\Sfil}{\ensuremath{s_{\text{fil}}}}
\providecommand*{\Smem}{\ensuremath{s_{\text{mem}}}}

\providecommand*{\dist}[2][d]{\ensuremath{#1_{\text{#2}}}}
\providecommand*{\distprime}[2][d]{\ensuremath{{#1^\prime\mspace{-5mu}}_{\text{#2}}}}

%% timestamps of the form hh:mm:ss
\makeatletter
\providecommand*{\timestamp}[3]{%
  \ifthenelse{\isempty{#1}}%
  {%% print only minutes and seconds
    \num[minimum-integer-digits=2]{#2}:%
    \SI[minimum-integer-digits=2]{#3}{\minute}}%
  {%% print hours, minutes, and seconds
    \num{#1}:%
    \ifthenelse{\isempty{#3}}%
    {%% suppress seconds
      \SI[minimum-integer-digits=2]{#2}{\hour}}%
    {%% print everything
      \num[minimum-integer-digits=2]{#2}:%
      \SI[minimum-integer-digits=2]{#3}{\hour}}}%
}
%\providecommand*{\timestamp}[3]{\SI{#1}{\hour}, \SI{#2}{\minute}, and \SI{#3}{\s}}
\makeatother


\def\infotext{info}
\def\warningtext{warning}
\def\errortext{error}
\newcommand{\switch}[1]{%
  \begingroup
    \def\tmp{#1}%
    \ifx\tmp\infotext
      first%
    \else\ifx\tmp\warningtext
      second%
    \else\ifx\tmp\errortext
      third%
    \else
      unknown%
    \fi\fi\fi
  \endgroup}

\providecommand*{\mapk}[2][]{%
  \def\mapkargtwo{2}%
  \def\mapkargthree{3}%
  \def\tmp{#1}%
  \ifx\tmp\mapkargtwo%
    \def\mapkstr{MAP2K}%
  \else\ifx\tmp\mapkargthree%
    \def\mapkstr{MAP3K}%
  \else%
    \def\mapkstr{MAPK}%
  \fi\fi
  \ifthenelse{\isempty{#2}}%
    {\acs{\mapkstr}}%
    {\phosphorylate[#2]{\acs{\mapkstr}}}}

%%%%%%%%%%%%%%% end of *.sty file
\endinput
%%%%%%%%%%%%%%%
